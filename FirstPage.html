<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Нахрани се там - Вкусно!</title>
    <link rel="stylesheet" href="FirstPage.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Amatic+SC:wght@400;700&display=swap" rel="stylesheet">
    
    <!-- Leaflet CSS from CDN -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    
  
</head>

<body>

<div class="square">
    <div class="button"> 
        <a href="StartPage.html" class="button-link">Начало</a>
    </div>
    <div class="button2"> 
        <a href="rec-res.php" class="button-link">Препоръчване на Ресторант</a>
    </div>
    <div class="button4"> 
        <a href="LoginPage.php" class="button-link">Влизане</a>
    </div>
    <div class="button5"> 
        <a href="Sign_up.php" class="button-link">Регистриране</a>
    </div>
</div>

<!-- Map Container (where the image was) -->
<div id="map"></div>

<!-- Leaflet JavaScript from CDN -->
<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
      
      <script>
      document.addEventListener("DOMContentLoaded", function () {
    var map = L.map('map').setView([51.505, -0.09], 13);

    L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
    }).addTo(map);

    // Fetch restaurant data from the server
    fetch('get_restaurants.php')
        .then(response => response.json())
        .then(data => {
            data.forEach(restaurant => {
                L.marker([restaurant.latitude, restaurant.longitude]).addTo(map)
                    .bindPopup(`<b>${restaurant.name}</b><br>
                                <strong>Меню:</strong> ${restaurant.menu}<br>
                                <strong>Адрес:</strong> ${restaurant.address}<br>
                                <strong>Телефон:</strong> ${restaurant.phone}`);
            });
        })
        .catch(error => console.error('Error fetching restaurant data:', error));
});

  
</script>



</body>
</html>
